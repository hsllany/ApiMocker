ApiWhatever
========

# Brief

Try to mock Json API as easy & flexible as possible according to a JSON template. 

The Andoid\iOS\H5 APP who relys the API, can easily test its API robustness though the simulated API, since the API is generated randomly by program contains many corner case generated by computer.

APIWhatever will render random JSON files through JSON Template.

## Install

```shell
npm install apiwhatever
```

# Example

Let define a simple API representing a class in school.

In real life, a class usually contains many small groups, and each group contains many students:

```
++ class
	++ group
		++ students 
```

```json
{
  "modules": [
    {
      "name": "student",
      "data": {
        "age": "->randomInt(18, 20)",
        "name": "-> randomString()",
        "sex": "->randomEnum(boy, girl)",
        "height": "->randomNumber(12.3, 55.8)",
        "isTransfer": "->randomBoolean()",
        "constant": null
      }
    },
    {
      "name": "group",
      "data": {
        "name": "->randomString()",
        "students": "->randomArrayOf(student)"
      }
    }
  ],
  "main": {
    "name": "class",
    "data": {
      "class_name": "->randomString()",
      "status": 200,
      "groups": "->randomArrayOf(group)"
    }
  }
}
```

Just run:

```javascript
const apiwhatever = require('./../apiwhatever');

// json will be some json string or js object
let json = ...

console.log(apiwhatever.mock(json));
```

And this will generate following json, every time is different:

```json
{
    "class_name": "#lefy8n25wvFFuNXAm881SYuUqCJoJjNhuObW14WSIBP!lHQbH7FK3VIPwhGJ#1$q",
    "status": 200,
    "groups": [
        {
            "name": "WZ@LaFXVHUlUXS9d1ivzofEQZCRsxucxoRY2MoD0R9GEvLMXX5PvN96AV9LLyx",
            "students": [
                {
                    "age": 20,
                    "name": "Wn2SD#KAjbTMD8b#DgK@o0jOmw1RIIhEgDVP9cKhNxF1jKEXp@8B7F#WVJO",
                    "sex": "boy",
                    "height": 45.11309245423034,
                    "isTransfer": true,
                    "constant": null
                },
                {
                    "age": 19,
                    "name": "KbBY5UYYr$NnxiQrb1SrhFVRxgiDkw@1Gv!GNtgvZM$GYnGrngdKM3DU4R1R1EznObmU@K@HaURQ$r2qwvOsYi6KnLboFY@oZvE",
                    "sex": "girl",
                    "height": 22.820040667878366,
                    "isTransfer": false,
                    "constant": null
                },
                {
                    "age": 18,
                    "name": "QvPL5MyMGLCo79eIGkKtI7Y3HY7#PZzrpIc6T!fgDjM@jeK3RWBo$qQlx@bOVnA!",
                    "sex": "girl",
                    "height": 23.703508422117288,
                    "isTransfer": true,
                    "constant": null
                },
                {
                    "age": 19,
                    "name": "o#Q",
                    "sex": "girl",
                    "height": 13.932977897753005,
                    "isTransfer": true,
                    "constant": null
                },
                {
                    "age": 18,
                    "name": "z30xr$2QVZvq9Lte$K6guKb6hz3oTyFEVH9X",
                    "sex": "boy",
                    "height": 31.73755185343509,
                    "isTransfer": false,
                    "constant": null
                },
                {
                    "age": 20,
                    "name": "BDMg21ksGUgG3WkWiS0Do9UBG8UD4qZBRoQOtN",
                    "sex": "girl",
                    "height": 41.80127273802158,
                    "isTransfer": false,
                    "constant": null
                }
            ]
        },
        {
            "name": "bRRBgONuc!H@!h0yls",
            "students": [
                {
                    "age": 19,
                    "name": "#Cyy6Rq08YoR5zhpOAMoXp0PehGeP8s9@e56oiDtj58ZvSdm2qc#P6PDIwcPTuln4L7oi0",
                    "sex": "boy",
                    "height": 51.013455479650915,
                    "isTransfer": true,
                    "constant": null
                }
            ]
        },
        {
            "name": "zSok9pKjJb4hxwKQREzxkrH00D",
            "students": [
                {
                    "age": 20,
                    "name": "vwCljGRbUEDjnIU@Y$s",
                    "sex": "girl",
                    "height": 52.93717182201591,
                    "isTransfer": true,
                    "constant": null
                },
                {
                    "age": 20,
                    "name": "pdz5p#HeInyN0BoXKY@gjgZQRj6RDlUEJQVGswJJqGXwe60A#OTsFI9dNWdRJrl5e38YKBw8xwKyRRQdkwbt",
                    "sex": "boy",
                    "height": 52.2527907569993,
                    "isTransfer": false,
                    "constant": null
                }
            ]
        },
        {
            "name": "Y1H36mzI02emnZoljtK",
            "students": [
                {
                    "age": 19,
                    "name": "5Pdwx1hnOupv9oLP6M9@ss",
                    "sex": "girl",
                    "height": 40.55302286092741,
                    "isTransfer": true,
                    "constant": null
                },
                {
                    "age": 20,
                    "name": "1f@eBMgfPOliVF@zxnkAY3iIhXnu@ZX5tpM2rpoiU!1yg5x5vjb#8uU8QvQxQtfs4",
                    "sex": "boy",
                    "height": 28.369941623889815,
                    "isTransfer": true,
                    "constant": null
                },
                {
                    "age": 19,
                    "name": "yMg0IDExq4tDL!jHmWCi#ZFECyAui1D#9JpRtk3o04ec!MljCf7DBCT9tvLZdd9fope#UvET3!g3",
                    "sex": "boy",
                    "height": 39.50936796253999,
                    "isTransfer": true,
                    "constant": null
                },
                {
                    "age": 19,
                    "name": "2sl1h0EI2fAJR#@JNvkouszgNmGB7nexkzcWmFmLy8DX0eeIA!v7bHXMSV9COHEGMHjB1BrPt5P0rNFXww6#Io$",
                    "sex": "boy",
                    "height": 32.71841019782172,
                    "isTransfer": false,
                    "constant": null
                }
            ]
        },
        {
            "name": "I#2mn8PCz@kQFo9SKzMZAylN1opfu",
            "students": [
                {
                    "age": 18,
                    "name": "#U@wMN9kgTeEHKeeZCL#ZIsQ98DQx!!Vpq9ENhtRZfxzCACrqNDXIdWcICuPKZG4ipOCal#fbkauhKP05Uz8XoqG@##",
                    "sex": "girl",
                    "height": 35.4239864695043,
                    "isTransfer": false,
                    "constant": null
                },
                {
                    "age": 18,
                    "name": "Odp9eyeAA1KQLPL6zW@kMEZISeWjnEAyFDCJjctr1qty1ACqVnC6S",
                    "sex": "boy",
                    "height": 38.173861262125016,
                    "isTransfer": false,
                    "constant": null
                },
                {
                    "age": 19,
                    "name": "NdD2IAGX75CkU0qhKfNjK@tw13FYjkIXJF863jaEE@h@jL9oJ6GlT2kMjwIAv07i@u91Tr3xKVD",
                    "sex": "girl",
                    "height": 47.373799504884985,
                    "isTransfer": false,
                    "constant": null
                },
                {
                    "age": 19,
                    "name": "SNBYWQwPAJ8C44P2qC0lWZGN1Dt@YFRfPaK6Eit7eXXM9v@P#2JITcmJ",
                    "sex": "girl",
                    "height": 34.28512972033984,
                    "isTransfer": false,
                    "constant": null
                }
            ]
        }
    ]
}
```
